<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Android Development: Lecture Notes</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="Lecture notes for Info 448 Mobile Development: Android.">
  <meta name="generator" content="bookdown 0.3 and GitBook 2.6.7">

  <meta property="og:title" content="Android Development: Lecture Notes" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Lecture notes for Info 448 Mobile Development: Android." />
  <meta name="github-repo" content="info448-s17/lecture-notes" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Android Development: Lecture Notes" />
  
  <meta name="twitter:description" content="Lecture notes for Info 448 Mobile Development: Android." />
  

<meta name="author" content="Joel Ross">


<meta name="date" content="2017-05-08">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="activities.html">
<link rel="next" href="interactive-views.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-98444716-1', 'auto');
  ga('send', 'pageview');

</script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Android Development</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this Book</a></li>
<li class="part"><span><b>I Lectures</b></span></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#android-history"><i class="fa fa-check"></i><b>1.1</b> Android History</a><ul>
<li class="chapter" data-level="1.1.1" data-path="introduction.html"><a href="introduction.html#android-versions"><i class="fa fa-check"></i><b>1.1.1</b> Android Versions</a></li>
<li class="chapter" data-level="1.1.2" data-path="introduction.html"><a href="introduction.html#legal-battles"><i class="fa fa-check"></i><b>1.1.2</b> Legal Battles</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#android-architecture-and-code"><i class="fa fa-check"></i><b>1.2</b> Android Architecture and Code</a><ul>
<li class="chapter" data-level="1.2.1" data-path="introduction.html"><a href="introduction.html#programming-languages"><i class="fa fa-check"></i><b>1.2.1</b> Programming Languages</a></li>
<li class="chapter" data-level="1.2.2" data-path="introduction.html"><a href="introduction.html#building-apps"><i class="fa fa-check"></i><b>1.2.2</b> Building Apps</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#development-tools"><i class="fa fa-check"></i><b>1.3</b> Development Tools</a><ul>
<li class="chapter" data-level="1.3.1" data-path="introduction.html"><a href="introduction.html#hardware"><i class="fa fa-check"></i><b>1.3.1</b> Hardware</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction.html"><a href="introduction.html#software"><i class="fa fa-check"></i><b>1.3.2</b> Software</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#hello-world"><i class="fa fa-check"></i><b>1.4</b> Hello World</a><ul>
<li class="chapter" data-level="1.4.1" data-path="introduction.html"><a href="introduction.html#the-emulator"><i class="fa fa-check"></i><b>1.4.1</b> The Emulator</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction.html"><a href="introduction.html#project-contents"><i class="fa fa-check"></i><b>1.4.2</b> Project Contents</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="activities.html"><a href="activities.html"><i class="fa fa-check"></i><b>2</b> Activities and Logging</a><ul>
<li class="chapter" data-level="2.1" data-path="activities.html"><a href="activities.html#making-activities"><i class="fa fa-check"></i><b>2.1</b> Making Activities</a></li>
<li class="chapter" data-level="2.2" data-path="activities.html"><a href="activities.html#the-activity-lifecycle"><i class="fa fa-check"></i><b>2.2</b> The Activity Lifecycle</a><ul>
<li class="chapter" data-level="2.2.1" data-path="activities.html"><a href="activities.html#overriding-the-callback-methods"><i class="fa fa-check"></i><b>2.2.1</b> Overriding the Callback Methods</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="activities.html"><a href="activities.html#logging-adb"><i class="fa fa-check"></i><b>2.3</b> Logging &amp; ADB</a><ul>
<li class="chapter" data-level="2.3.1" data-path="activities.html"><a href="activities.html#log-methods"><i class="fa fa-check"></i><b>2.3.1</b> Log Methods</a></li>
<li class="chapter" data-level="2.3.2" data-path="activities.html"><a href="activities.html#logcat"><i class="fa fa-check"></i><b>2.3.2</b> Logcat</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="activities.html"><a href="activities.html#basic-events"><i class="fa fa-check"></i><b>2.4</b> Basic Events</a></li>
<li class="chapter" data-level="2.5" data-path="activities.html"><a href="activities.html#multiple-activities"><i class="fa fa-check"></i><b>2.5</b> Multiple Activities</a><ul>
<li class="chapter" data-level="2.5.1" data-path="activities.html"><a href="activities.html#intents-and-context"><i class="fa fa-check"></i><b>2.5.1</b> Intents and Context</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="activities.html"><a href="activities.html#back-tasks"><i class="fa fa-check"></i><b>2.6</b> Back &amp; Tasks</a><ul>
<li class="chapter" data-level="2.6.1" data-path="activities.html"><a href="activities.html#up-navigation"><i class="fa fa-check"></i><b>2.6.1</b> Up Navigation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="resources-and-layouts.html"><a href="resources-and-layouts.html"><i class="fa fa-check"></i><b>3</b> Resources and Layouts</a><ul>
<li class="chapter" data-level="3.1" data-path="resources-and-layouts.html"><a href="resources-and-layouts.html#resources"><i class="fa fa-check"></i><b>3.1</b> Resources</a><ul>
<li class="chapter" data-level="3.1.1" data-path="resources-and-layouts.html"><a href="resources-and-layouts.html#alternative-resources"><i class="fa fa-check"></i><b>3.1.1</b> Alternate Resources</a></li>
<li class="chapter" data-level="3.1.2" data-path="resources-and-layouts.html"><a href="resources-and-layouts.html#xml-details"><i class="fa fa-check"></i><b>3.1.2</b> XML Details</a></li>
<li class="chapter" data-level="3.1.3" data-path="resources-and-layouts.html"><a href="resources-and-layouts.html#r"><i class="fa fa-check"></i><b>3.1.3</b> R</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="resources-and-layouts.html"><a href="resources-and-layouts.html#views"><i class="fa fa-check"></i><b>3.2</b> Views</a><ul>
<li class="chapter" data-level="3.2.1" data-path="resources-and-layouts.html"><a href="resources-and-layouts.html#view-properties"><i class="fa fa-check"></i><b>3.2.1</b> View Properties</a></li>
<li class="chapter" data-level="3.2.2" data-path="resources-and-layouts.html"><a href="resources-and-layouts.html#practice"><i class="fa fa-check"></i><b>3.2.2</b> Practice</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="resources-and-layouts.html"><a href="resources-and-layouts.html#layouts"><i class="fa fa-check"></i><b>3.3</b> Layouts</a><ul>
<li class="chapter" data-level="3.3.1" data-path="resources-and-layouts.html"><a href="resources-and-layouts.html#linearlayout"><i class="fa fa-check"></i><b>3.3.1</b> LinearLayout</a></li>
<li class="chapter" data-level="3.3.2" data-path="resources-and-layouts.html"><a href="resources-and-layouts.html#relativelayout"><i class="fa fa-check"></i><b>3.3.2</b> RelativeLayout</a></li>
<li class="chapter" data-level="3.3.3" data-path="resources-and-layouts.html"><a href="resources-and-layouts.html#constraintlayout"><i class="fa fa-check"></i><b>3.3.3</b> ConstraintLayout</a></li>
<li class="chapter" data-level="3.3.4" data-path="resources-and-layouts.html"><a href="resources-and-layouts.html#other-layouts"><i class="fa fa-check"></i><b>3.3.4</b> Other Layouts</a></li>
<li class="chapter" data-level="3.3.5" data-path="resources-and-layouts.html"><a href="resources-and-layouts.html#combining-and-inflating-layouts"><i class="fa fa-check"></i><b>3.3.5</b> Combining and Inflating Layouts</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="interactive-views.html"><a href="interactive-views.html"><i class="fa fa-check"></i><b>4</b> Interactive Views</a><ul>
<li class="chapter" data-level="4.1" data-path="interactive-views.html"><a href="interactive-views.html#inputs"><i class="fa fa-check"></i><b>4.1</b> Inputs</a></li>
<li class="chapter" data-level="4.2" data-path="interactive-views.html"><a href="interactive-views.html#listviews-and-adapters"><i class="fa fa-check"></i><b>4.2</b> ListViews and Adapters</a></li>
<li class="chapter" data-level="4.3" data-path="interactive-views.html"><a href="interactive-views.html#network-data"><i class="fa fa-check"></i><b>4.3</b> Network Data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="fragments.html"><a href="fragments.html"><i class="fa fa-check"></i><b>5</b> Fragments</a><ul>
<li class="chapter" data-level="5.1" data-path="fragments.html"><a href="fragments.html#creating-a-fragment"><i class="fa fa-check"></i><b>5.1</b> Creating a Fragment</a><ul>
<li class="chapter" data-level="5.1.1" data-path="fragments.html"><a href="fragments.html#activity-to-fragment-communication"><i class="fa fa-check"></i><b>5.1.1</b> Activity-to-Fragment Communication</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="fragments.html"><a href="fragments.html#dynamic-fragments"><i class="fa fa-check"></i><b>5.2</b> Dynamic Fragments</a><ul>
<li class="chapter" data-level="5.2.1" data-path="fragments.html"><a href="fragments.html#instantiating-fragments"><i class="fa fa-check"></i><b>5.2.1</b> Instantiating Fragments</a></li>
<li class="chapter" data-level="5.2.2" data-path="fragments.html"><a href="fragments.html#transactions"><i class="fa fa-check"></i><b>5.2.2</b> Transactions</a></li>
<li class="chapter" data-level="5.2.3" data-path="fragments.html"><a href="fragments.html#inter-fragment-communication"><i class="fa fa-check"></i><b>5.2.3</b> Inter-Fragment Communication</a></li>
<li class="chapter" data-level="5.2.4" data-path="fragments.html"><a href="fragments.html#the-back-stack"><i class="fa fa-check"></i><b>5.2.4</b> The Back Stack</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ui-components.html"><a href="ui-components.html"><i class="fa fa-check"></i><b>6</b> UI Components</a><ul>
<li class="chapter" data-level="6.1" data-path="ui-components.html"><a href="ui-components.html#the-action-bar"><i class="fa fa-check"></i><b>6.1</b> The Action Bar</a></li>
<li class="chapter" data-level="6.2" data-path="ui-components.html"><a href="ui-components.html#menus"><i class="fa fa-check"></i><b>6.2</b> Menus</a><ul>
<li class="chapter" data-level="6.2.1" data-path="ui-components.html"><a href="ui-components.html#context-menus"><i class="fa fa-check"></i><b>6.2.1</b> Context Menus</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="ui-components.html"><a href="ui-components.html#dialogs"><i class="fa fa-check"></i><b>6.3</b> Dialogs</a><ul>
<li class="chapter" data-level="6.3.1" data-path="ui-components.html"><a href="ui-components.html#dialogfragments"><i class="fa fa-check"></i><b>6.3.1</b> DialogFragments</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="ui-components.html"><a href="ui-components.html#toasts"><i class="fa fa-check"></i><b>6.4</b> Toasts</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="providers-and-loaders.html"><a href="providers-and-loaders.html"><i class="fa fa-check"></i><b>7</b> Providers and Loaders</a><ul>
<li class="chapter" data-level="7.1" data-path="providers-and-loaders.html"><a href="providers-and-loaders.html#content-providers"><i class="fa fa-check"></i><b>7.1</b> Content Providers</a></li>
<li class="chapter" data-level="7.2" data-path="providers-and-loaders.html"><a href="providers-and-loaders.html#cursors"><i class="fa fa-check"></i><b>7.2</b> Cursors</a></li>
<li class="chapter" data-level="7.3" data-path="providers-and-loaders.html"><a href="providers-and-loaders.html#loaders"><i class="fa fa-check"></i><b>7.3</b> Loaders</a></li>
<li class="chapter" data-level="7.4" data-path="providers-and-loaders.html"><a href="providers-and-loaders.html#other-provider-actions"><i class="fa fa-check"></i><b>7.4</b> Other Provider Actions</a><ul>
<li class="chapter" data-level="7.4.1" data-path="providers-and-loaders.html"><a href="providers-and-loaders.html#adding-words"><i class="fa fa-check"></i><b>7.4.1</b> Adding Words</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="intents.html"><a href="intents.html"><i class="fa fa-check"></i><b>8</b> Intents</a><ul>
<li class="chapter" data-level="8.1" data-path="intents.html"><a href="intents.html#intents-for-another-activity-explicit"><i class="fa fa-check"></i><b>8.1</b> Intents for Another Activity (Explicit)</a><ul>
<li class="chapter" data-level="8.1.1" data-path="intents.html"><a href="intents.html#extras"><i class="fa fa-check"></i><b>8.1.1</b> Extras</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="intents.html"><a href="intents.html#intents-for-another-app-implicit"><i class="fa fa-check"></i><b>8.2</b> Intents for Another App (Implicit)</a></li>
<li class="chapter" data-level="8.3" data-path="intents.html"><a href="intents.html#intents-for-a-response"><i class="fa fa-check"></i><b>8.3</b> Intents for a Response</a></li>
<li class="chapter" data-level="8.4" data-path="intents.html"><a href="intents.html#listening-for-intents"><i class="fa fa-check"></i><b>8.4</b> Listening for Intents</a></li>
<li class="chapter" data-level="8.5" data-path="intents.html"><a href="intents.html#broadcasts-and-receivers"><i class="fa fa-check"></i><b>8.5</b> Broadcasts and Receivers</a></li>
<li class="chapter" data-level="8.6" data-path="intents.html"><a href="intents.html#an-example-sms"><i class="fa fa-check"></i><b>8.6</b> An Example: SMS</a></li>
<li class="chapter" data-level="8.7" data-path="intents.html"><a href="intents.html#shareactionprovider"><i class="fa fa-check"></i><b>8.7</b> ShareActionProvider</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ui-components-ii.html"><a href="ui-components-ii.html"><i class="fa fa-check"></i><b>9</b> UI Components II</a><ul>
<li class="chapter" data-level="9.1" data-path="ui-components-ii.html"><a href="ui-components-ii.html#notifications"><i class="fa fa-check"></i><b>9.1</b> Notifications</a></li>
<li class="chapter" data-level="9.2" data-path="ui-components-ii.html"><a href="ui-components-ii.html#settings"><i class="fa fa-check"></i><b>9.2</b> Settings</a><ul>
<li class="chapter" data-level="9.2.1" data-path="ui-components-ii.html"><a href="ui-components-ii.html#sharedpreferences"><i class="fa fa-check"></i><b>9.2.1</b> SharedPreferences</a></li>
<li class="chapter" data-level="9.2.2" data-path="ui-components-ii.html"><a href="ui-components-ii.html#preference-settings"><i class="fa fa-check"></i><b>9.2.2</b> Preference Settings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="files-and-permissions.html"><a href="files-and-permissions.html"><i class="fa fa-check"></i><b>10</b> Files and Permissions</a><ul>
<li class="chapter" data-level="10.1" data-path="files-and-permissions.html"><a href="files-and-permissions.html#file-storage-locations"><i class="fa fa-check"></i><b>10.1</b> File Storage Locations</a></li>
<li class="chapter" data-level="10.2" data-path="files-and-permissions.html"><a href="files-and-permissions.html#permissions"><i class="fa fa-check"></i><b>10.2</b> Permissions</a></li>
<li class="chapter" data-level="10.3" data-path="files-and-permissions.html"><a href="files-and-permissions.html#external-storage"><i class="fa fa-check"></i><b>10.3</b> External Storage</a></li>
<li class="chapter" data-level="10.4" data-path="files-and-permissions.html"><a href="files-and-permissions.html#internal-storage-cache"><i class="fa fa-check"></i><b>10.4</b> Internal Storage &amp; Cache</a></li>
<li class="chapter" data-level="10.5" data-path="files-and-permissions.html"><a href="files-and-permissions.html#example-saving-pictures"><i class="fa fa-check"></i><b>10.5</b> Example: Saving Pictures</a></li>
<li class="chapter" data-level="10.6" data-path="files-and-permissions.html"><a href="files-and-permissions.html#sharing-files"><i class="fa fa-check"></i><b>10.6</b> Sharing Files</a><ul>
<li class="chapter" data-level="10.6.1" data-path="files-and-permissions.html"><a href="files-and-permissions.html#bonus-sharing-with-a-fileprovider"><i class="fa fa-check"></i><b>10.6.1</b> Bonus: Sharing with a <code>FileProvider</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="location.html"><a href="location.html"><i class="fa fa-check"></i><b>11</b> Location</a><ul>
<li class="chapter" data-level="11.1" data-path="location.html"><a href="location.html#localization-techniques"><i class="fa fa-check"></i><b>11.1</b> Localization Techniques</a><ul>
<li class="chapter" data-level="11.1.1" data-path="location.html"><a href="location.html#gps"><i class="fa fa-check"></i><b>11.1.1</b> GPS</a></li>
<li class="chapter" data-level="11.1.2" data-path="location.html"><a href="location.html#cell-tower-localization"><i class="fa fa-check"></i><b>11.1.2</b> Cell Tower Localization</a></li>
<li class="chapter" data-level="11.1.3" data-path="location.html"><a href="location.html#wifi-localization"><i class="fa fa-check"></i><b>11.1.3</b> WiFi Localization</a></li>
<li class="chapter" data-level="11.1.4" data-path="location.html"><a href="location.html#representing-location"><i class="fa fa-check"></i><b>11.1.4</b> Representing Location</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="location.html"><a href="location.html#android-location"><i class="fa fa-check"></i><b>11.2</b> Android Location</a><ul>
<li class="chapter" data-level="11.2.1" data-path="location.html"><a href="location.html#google-play-services"><i class="fa fa-check"></i><b>11.2.1</b> Google Play Services</a></li>
<li class="chapter" data-level="11.2.2" data-path="location.html"><a href="location.html#accessing-location"><i class="fa fa-check"></i><b>11.2.2</b> Accessing Location</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="sensors.html"><a href="sensors.html"><i class="fa fa-check"></i><b>12</b> Sensors</a><ul>
<li class="chapter" data-level="12.1" data-path="sensors.html"><a href="sensors.html#motion-sensors"><i class="fa fa-check"></i><b>12.1</b> Motion Sensors</a><ul>
<li class="chapter" data-level="12.1.1" data-path="sensors.html"><a href="sensors.html#accessing-sensors"><i class="fa fa-check"></i><b>12.1.1</b> Accessing Sensors</a></li>
<li class="chapter" data-level="12.1.2" data-path="sensors.html"><a href="sensors.html#composite-sensors"><i class="fa fa-check"></i><b>12.1.2</b> Composite Sensors</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="sensors.html"><a href="sensors.html#rotation"><i class="fa fa-check"></i><b>12.2</b> Rotation</a><ul>
<li class="chapter" data-level="12.2.1" data-path="sensors.html"><a href="sensors.html#coordinates"><i class="fa fa-check"></i><b>12.2.1</b> Coordinates</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="services.html"><a href="services.html"><i class="fa fa-check"></i><b>13</b> Services</a><ul>
<li class="chapter" data-level="13.1" data-path="services.html"><a href="services.html#intentservices"><i class="fa fa-check"></i><b>13.1</b> IntentServices</a><ul>
<li class="chapter" data-level="13.1.1" data-path="services.html"><a href="services.html#the-service-lifecycle"><i class="fa fa-check"></i><b>13.1.1</b> The Service Lifecycle</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="services.html"><a href="services.html#example-a-music-service"><i class="fa fa-check"></i><b>13.2</b> Example: A Music Service</a><ul>
<li class="chapter" data-level="13.2.1" data-path="services.html"><a href="services.html#mediaplayer"><i class="fa fa-check"></i><b>13.2.1</b> MediaPlayer</a></li>
<li class="chapter" data-level="13.2.2" data-path="services.html"><a href="services.html#creating-a-service"><i class="fa fa-check"></i><b>13.2.2</b> Creating a Service</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="services.html"><a href="services.html#foreground-services"><i class="fa fa-check"></i><b>13.3</b> Foreground Services</a></li>
<li class="chapter" data-level="13.4" data-path="services.html"><a href="services.html#bound-services"><i class="fa fa-check"></i><b>13.4</b> Bound Services</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="publishing.html"><a href="publishing.html"><i class="fa fa-check"></i><b>14</b> Publishing</a><ul>
<li class="chapter" data-level="14.1" data-path="publishing.html"><a href="publishing.html#signing-an-app"><i class="fa fa-check"></i><b>14.1</b> Signing an App</a><ul>
<li class="chapter" data-level="14.1.1" data-path="publishing.html"><a href="publishing.html#a-release-.apk"><i class="fa fa-check"></i><b>14.1.1</b> A Release <code>.apk</code></a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Additional Topics (Labs)</b></span></li>
<li class="chapter" data-level="15" data-path="accessibility.html"><a href="accessibility.html"><i class="fa fa-check"></i><b>15</b> Accessibility</a><ul>
<li class="chapter" data-level="15.1" data-path="accessibility.html"><a href="accessibility.html#universal-usability"><i class="fa fa-check"></i><b>15.1</b> Universal Usability</a></li>
<li class="chapter" data-level="15.2" data-path="accessibility.html"><a href="accessibility.html#implementing-accessibility"><i class="fa fa-check"></i><b>15.2</b> Implementing Accessibility</a><ul>
<li class="chapter" data-level="15.2.1" data-path="accessibility.html"><a href="accessibility.html#supporting-vision-impairment"><i class="fa fa-check"></i><b>15.2.1</b> Supporting Vision Impairment</a></li>
<li class="chapter" data-level="15.2.2" data-path="accessibility.html"><a href="accessibility.html#supporting-alternative-inputs"><i class="fa fa-check"></i><b>15.2.2</b> Supporting Alternative Inputs</a></li>
<li class="chapter" data-level="15.2.3" data-path="accessibility.html"><a href="accessibility.html#supporting-internationalization"><i class="fa fa-check"></i><b>15.2.3</b> Supporting Internationalization</a></li>
<li class="chapter" data-level="15.2.4" data-path="accessibility.html"><a href="accessibility.html#further-testing"><i class="fa fa-check"></i><b>15.2.4</b> Further Testing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="fragments-viewpager.html"><a href="fragments-viewpager.html"><i class="fa fa-check"></i><b>16</b> Fragments: ViewPager</a><ul>
<li class="chapter" data-level="16.1" data-path="fragments-viewpager.html"><a href="fragments-viewpager.html#define-a-searchfragment"><i class="fa fa-check"></i><b>16.1</b> Define a SearchFragment</a></li>
<li class="chapter" data-level="16.2" data-path="fragments-viewpager.html"><a href="fragments-viewpager.html#add-the-viewpager-and-adapter"><i class="fa fa-check"></i><b>16.2</b> Add the ViewPager and Adapter</a></li>
<li class="chapter" data-level="16.3" data-path="fragments-viewpager.html"><a href="fragments-viewpager.html#add-user-interaction"><i class="fa fa-check"></i><b>16.3</b> Add User Interaction</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="bluetooth.html"><a href="bluetooth.html"><i class="fa fa-check"></i><b>17</b> Bluetooth</a></li>
<li class="chapter" data-level="18" data-path="maps.html"><a href="maps.html"><i class="fa fa-check"></i><b>18</b> Maps</a><ul>
<li class="chapter" data-level="18.1" data-path="maps.html"><a href="maps.html#create-a-map-activity"><i class="fa fa-check"></i><b>18.1</b> Create a Map Activity</a><ul>
<li class="chapter" data-level="18.1.1" data-path="maps.html"><a href="maps.html#getting-an-api-key"><i class="fa fa-check"></i><b>18.1.1</b> Getting an API Key</a></li>
<li class="chapter" data-level="18.1.2" data-path="maps.html"><a href="maps.html#the-supportmapfragment"><i class="fa fa-check"></i><b>18.1.2</b> The <code>SupportMapFragment</code></a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="maps.html"><a href="maps.html#specifying-the-user-interface"><i class="fa fa-check"></i><b>18.2</b> Specifying the User Interface</a></li>
<li class="chapter" data-level="18.3" data-path="maps.html"><a href="maps.html#markers-and-drawings"><i class="fa fa-check"></i><b>18.3</b> Markers and Drawings</a><ul>
<li class="chapter" data-level="18.3.1" data-path="maps.html"><a href="maps.html#drawing-shapes"><i class="fa fa-check"></i><b>18.3.1</b> Drawing Shapes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="styles-themes.html"><a href="styles-themes.html"><i class="fa fa-check"></i><b>19</b> Styles &amp; Themes</a><ul>
<li class="chapter" data-level="19.1" data-path="styles-themes.html"><a href="styles-themes.html#defining-styles"><i class="fa fa-check"></i><b>19.1</b> Defining Styles</a><ul>
<li class="chapter" data-level="19.1.1" data-path="styles-themes.html"><a href="styles-themes.html#style-inheritance"><i class="fa fa-check"></i><b>19.1.1</b> Style Inheritance</a></li>
<li class="chapter" data-level="19.1.2" data-path="styles-themes.html"><a href="styles-themes.html#built-in-styles"><i class="fa fa-check"></i><b>19.1.2</b> Built-in Styles</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="styles-themes.html"><a href="styles-themes.html#themes"><i class="fa fa-check"></i><b>19.2</b> Themes</a><ul>
<li class="chapter" data-level="19.2.1" data-path="styles-themes.html"><a href="styles-themes.html#material-themes"><i class="fa fa-check"></i><b>19.2.1</b> Material Themes</a></li>
<li class="chapter" data-level="19.2.2" data-path="styles-themes.html"><a href="styles-themes.html#theme-attributes"><i class="fa fa-check"></i><b>19.2.2</b> Theme Attributes</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix: Java</b></span></li>
<li class="chapter" data-level="A" data-path="java-review.html"><a href="java-review.html"><i class="fa fa-check"></i><b>A</b> Java Review</a><ul>
<li class="chapter" data-level="A.1" data-path="java-review.html"><a href="java-review.html#building-apps-with-gradle"><i class="fa fa-check"></i><b>A.1</b> Building Apps with Gradle</a></li>
<li class="chapter" data-level="A.2" data-path="java-review.html"><a href="java-review.html#class-basics"><i class="fa fa-check"></i><b>A.2</b> Class Basics</a></li>
<li class="chapter" data-level="A.3" data-path="java-review.html"><a href="java-review.html#inheritance"><i class="fa fa-check"></i><b>A.3</b> Inheritance</a></li>
<li class="chapter" data-level="A.4" data-path="java-review.html"><a href="java-review.html#interfaces"><i class="fa fa-check"></i><b>A.4</b> Interfaces</a></li>
<li class="chapter" data-level="A.5" data-path="java-review.html"><a href="java-review.html#polymorphism"><i class="fa fa-check"></i><b>A.5</b> Polymorphism</a></li>
<li class="chapter" data-level="A.6" data-path="java-review.html"><a href="java-review.html#abstract-methods-and-classes"><i class="fa fa-check"></i><b>A.6</b> Abstract Methods and Classes</a></li>
<li class="chapter" data-level="A.7" data-path="java-review.html"><a href="java-review.html#generics"><i class="fa fa-check"></i><b>A.7</b> Generics</a></li>
<li class="chapter" data-level="A.8" data-path="java-review.html"><a href="java-review.html#nested-classes"><i class="fa fa-check"></i><b>A.8</b> Nested Classes</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="java-swing.html"><a href="java-swing.html"><i class="fa fa-check"></i><b>B</b> Swing Framework</a><ul>
<li class="chapter" data-level="B.1" data-path="java-swing.html"><a href="java-swing.html#events"><i class="fa fa-check"></i><b>B.1</b> Events</a></li>
<li class="chapter" data-level="B.2" data-path="java-swing.html"><a href="java-swing.html#layouts-and-composites"><i class="fa fa-check"></i><b>B.2</b> Layouts and Composites</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="java-threads-http.html"><a href="java-threads-http.html"><i class="fa fa-check"></i><b>C</b> Threads and HTTP Requests</a><ul>
<li class="chapter" data-level="C.1" data-path="java-threads-http.html"><a href="java-threads-http.html#concurrency"><i class="fa fa-check"></i><b>C.1</b> Concurrency</a><ul>
<li class="chapter" data-level="C.1.1" data-path="java-threads-http.html"><a href="java-threads-http.html#an-example-algorithm-races"><i class="fa fa-check"></i><b>C.1.1</b> An Example: Algorithm Races!</a></li>
<li class="chapter" data-level="C.1.2" data-path="java-threads-http.html"><a href="java-threads-http.html#threading-the-race"><i class="fa fa-check"></i><b>C.1.2</b> Threading the Race</a></li>
</ul></li>
<li class="chapter" data-level="C.2" data-path="java-threads-http.html"><a href="java-threads-http.html#http-requests"><i class="fa fa-check"></i><b>C.2</b> HTTP Requests</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Android Development: Lecture Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="resources-and-layouts" class="section level1">
<h1><span class="header-section-number">Lecture 3</span> Resources and Layouts</h1>
<p>This lecture discusses <a href="https://developer.android.com/guide/topics/resources/overview.html"><strong>Resources</strong></a>, which are used to represent elements or data that are separate from the behavior (functional logic) of the app. In particular, this lecture focuses on how resources are used to define <strong>Layouts</strong> for user interfaces. While the <a href="activities.html#activities">Activities</a> lecture focused on the Java portion of Android apps; this lecture focuses on the XML.</p>
<p class="alert alert-info">
This lecture references code found at <a href="https://github.com/info448-s17/lecture03-layouts" class="uri">https://github.com/info448-s17/lecture03-layouts</a>.
</p>
<div id="resources" class="section level2">
<h2><span class="header-section-number">3.1</span> Resources</h2>
<p><a href="https://developer.android.com/guide/topics/resources/overview.html">Resources</a> can be found in the <strong><code>res/</code></strong> folder, and represent elements or data that are “external” to the code. You can think of them as “media content”: often images, but also things like text clippings (or short String constants). Textual resources are usually defined in XML files. This is because resources represent elements (e.g., content) that is <em>separate</em> from the code (the behavior of the app), so is kept separate from the Java code to support the <strong>Principle of Separation of Concerns</strong></p>
<ul>
<li><p>By defining resources in XML, they can be developed (worked on) <em>without</em> coding tools (e.g., with systems like the graphical “layout design” tab). Theoretically you could have a Graphic Designer create these resources, which can then be integrated into the code without the designer needing to do a lick of Java.</p></li>
<li><p>Similarly, keeping resources separate allows you to choose what resources to include <em>dynamically</em>. You can choose to show different images based on device screen resolution, or pick different Strings based on the language of the device (internationalization!)—the behavior of the app is the same, but the “content” is different!</p>
<ul>
<li>This is similar to how in web development we may want to have the same JavaScript from different HTML.</li>
</ul></li>
</ul>
<p>What should be a resource? In general:</p>
<ul>
<li>Layouts should <strong>always</strong> be resources</li>
<li>UI controls (buttons, etc) should <em>mostly</em> be defined as resources (part of layouts), though behavior will be defined programmtically (in Java)</li>
<li>Any graphic images (drawables) should be resources</li>
<li>Any <em>user-facing</em> strings should be resources</li>
<li>Style and theming information should be resources</li>
</ul>
<p>As introduced in <span id="introduction">Lecture 1</span>, there are a number of different <a href="https://developer.android.com/guide/topics/resources/available-resources.html">resource types</a> used in Android, many of which can be found in the <code>res/</code> folder of a default Android project, including:</p>
<ul>
<li><code>res/drawable/</code>: contains graphics (PNG, JPEG, etc)</li>
<li><code>res/layout/</code>: contains UI XML layout files</li>
<li><code>res/mipmap/</code>: conatins launcher icon files in different resolutions</li>
<li><code>res/values/</code>: contains XML definitions for general constants
<ul>
<li><code>/strings</code>: short string constants (e.g., labels)</li>
<li><code>/colors</code>: color constants</li>
<li><code>/styles</code> : constants for <a href="https://developer.android.com/guide/topics/ui/themes.html">style and theme</a> details</li>
<li><code>/dimen</code> : dimensional constants (like default margins); not created by default in Android Studio 2.3+.</li>
</ul></li>
</ul>
<p>The details about these different kinds of resources is a bit scattered throughout the documentation, but <a href="http://developer.android.com/guide/topics/resources/available-resources.html">Resource Types</a><a href="#fn6" class="footnoteRef" id="fnref6"><sup>6</sup></a> is a good place to start, as is <a href="https://developer.android.com/guide/topics/resources/providing-resources.html#ResourceTypes">Providing Resources</a>.</p>
<div id="alternative-resources" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Alternate Resources</h3>
<p>These aren’t the only names for resource folders: as mentioned above, part of the goal of resources is that they can be <strong>localized</strong>: changed depending on the device! You are thus able to specify folders for “alternative” resources (e.g., special handling for another language, or for low-resolution devices). At runtime, Android will check the configuration of the device, and try to find an alternative resource that matches that config. If it it <em>can’t</em> find a relevant alternative resource, it will fall back to the “default” resource.</p>
<p>There are many different configurations that can be used to influence resources; see <a href="https://developer.android.com/guide/topics/resources/providing-resources.html#AlternativeResources">Providing Resources</a><a href="#fn7" class="footnoteRef" id="fnref7"><sup>7</sup></a>. To highlight a few options, you can specify different resources based on:</p>
<ul>
<li>Language and region (e.g., via two-letter ISO codes)</li>
<li>Screen size(<code>small</code>, <code>normal</code>, <code>medium</code>, <code>large</code>, <code>xlarge</code>)</li>
<li>Screen orientation (<code>port</code> for portrait, <code>land</code> for landscape)</li>
<li>Specifc screen pixel density (dpi) (<code>ldpi</code>, <code>mdpi</code>, <code>hdpi</code>, <code>xhdpi</code>, <code>xxhdpi</code>, etc.). <code>xxhdpi</code> is pretty common for high-end devices. Note that dpi is “dots per inch”, so these values represent the number of pixels across <em>relative</em> to the device size!</li>
<li>Platform version (<code>v1</code>, <code>v4</code>, <code>v7</code>… for each API number)</li>
</ul>
<p>Configurations are indicated using the <strong>directory name</strong>, giving them the form <code>&lt;resource_name&gt;(-&lt;config_qualifier&gt;)+</code></p>
<ul>
<li><p>You can see this in action by using the <em>New Resource</em> wizard (<code>File &gt; New &gt; Android resource file</code>) to create a welcome message (a string resource, such as for the <code>app_name</code>) in another language<a href="#fn8" class="footnoteRef" id="fnref8"><sup>8</sup></a>, and then changing the device’s language settings to see the content automatically adjust!</p>
<div class="sourceCode"><pre class="sourceCode xml"><code class="sourceCode xml"><span class="kw">&lt;?xml</span> version=&quot;1.0&quot; encoding=&quot;utf-8&quot;<span class="kw">?&gt;</span>
<span class="kw">&lt;resources&gt;</span>
    <span class="kw">&lt;string</span><span class="ot"> name=</span><span class="st">&quot;app_name&quot;</span><span class="kw">&gt;</span>Mon Application<span class="kw">&lt;/string&gt;</span>
<span class="kw">&lt;/resources&gt;</span></code></pre></div></li>
<li><p>Switch to the <code>Package</code> view in Android Studio to see how the folder structure for this works.</p></li>
</ul>
</div>
<div id="xml-details" class="section level3">
<h3><span class="header-section-number">3.1.2</span> XML Details</h3>
<p>Resources are usually defined as <a href="https://en.wikipedia.org/wiki/XML">XML</a> (which is similar in syntax to HTML). The <code>strings.xml</code> example used above involves fairly simple elements but more complexresource is pretty simple, but more complex details can be seen in the <code>activity_main.xml</code> resource inside <code>layout/</code>.</p>
<ul>
<li>Android-specific attributes are namespaced with a <code>android:</code> prefix, to avoid any potential conflicts (e.g., so we know we’re talking about Android’s <code>text</code> instead of something else).</li>
<li>We can use the <strong><code>@</code></strong> symbol to reference one resource from another, following the schema <code>@[&lt;package_name&gt;:]&lt;resource_type&gt;/&lt;resource_name&gt;</code></li>
<li>We can also use the <strong><code>+</code></strong> symbol to create a <em>new</em> resource that we can refer to; this is a bit like declaring a variable inside an attribute. This is most commonly used with the <code>android:id</code> attribute (<code>android:id=&quot;@+id/identifier&quot;</code>), see below for details.</li>
</ul>
</div>
<div id="r" class="section level3">
<h3><span class="header-section-number">3.1.3</span> R</h3>
<p>Although XML resources are defined separately from the Java code, resources can be <a href="https://developer.android.com/guide/topics/resources/accessing-resources.html">accessed</a> from within Java. When an application is compiled, the build tools (e.g., gradle) <strong>generate</strong> an additional Java class called <strong><code>R</code></strong> (for “resource”). This class contains what is basically a giant list of static “constants”—one for each resource! These constants are organized into subclasses, one for each resource type. This allows you to refer to a specific resource in the Java code as <code>[(package_name).]R.resource_type.identifier</code> similar to the kind of syntax used to refer to a nested JSON object! For example: <code>R.string.hello</code> (the <code>hello</code> string resource), <code>R.drawable.icon</code> or <code>R.layout.activity_main</code></p>
<ul>
<li>For most resources, the identifier is defined as an element attribute (<code>id</code> for specific View elements in layouts, <code>name</code> attribute for values). For more complex resources such as entire layouts or drawables, the identifier is the <em>filename</em> (without the XML); hence <code>R.layout.activity_main</code> refers to the root element of the <code>layout/activity_main.xml</code> file.</li>
<li>Note that that <code>@</code> symbol used in the XML goes to the <code>R</code> Java file to look things up, so follows the same reference syntax.</li>
</ul>
<p class="alert alert-info">
You can find the generated <code>R.java</code> file inside <code>app/build/generated/source/r/debug/...</code> (Use the Project Files view in Android Studio).
</p>
<p>The static constants inside the <code>R.java</code> file are often just <code>ints</code> that are <em>pointers</em> to element references (similar to passing a <code>pointer*</code> around in the C language). So in the Java, we usually work with <code>int</code> as the data type for XML resources, because we’re actually working with pointers <em>to</em> those resources.</p>
<ul>
<li>You can think of each <code>int</code> constant as a “key” or “index” for that resource (in the list of all resources). Android does the hard work of taking that <code>int</code>, looking it up in an internal resource table, finding the associated XML file, and then getting the right element out of that XML. (By hard work, I mean in terms of implementation. Android is looking up these references directly in memory, so the look-up is a fast <code>O(1)</code>).</li>
</ul>
<p>Because the <code>R</code> class is included in the Java, we can access these constants directly in our code (as <code>R.resource_type.identifier</code>). For example, the <code>setContentView()</code> call in an Activity’s <code>onCreate()</code> takes in a resource <code>int</code>.</p>
<ul>
<li>The other comment method that utilizes resources will be <code>findViewById(int)</code>, which is used to reference a <code>View</code> element (e.g., a button) from the resource in order to call methods on it in Java. This is the same method used with the Button example in the <span id="activities">Activities lecture</span></li>
</ul>
<p class="alert alert-warning">
The <code>R</code> class is regenerated all time (any time you change a resource, which is often); when Eclipse was the recommend Android IDE, you often needed to manually regenerate the class so that the IDE’s index would stay up to date! You can perform a similar task in Android Studio by using <code>Build &gt; Clean Project</code> and <code>Build &gt; Rebuild Project</code>.
</p>
</div>
</div>
<div id="views" class="section level2">
<h2><span class="header-section-number">3.2</span> Views</h2>
<p>The most common type of element we’ll define in resources are <a href="https://developer.android.com/reference/android/view/View.html"><strong>Views</strong></a><a href="#fn9" class="footnoteRef" id="fnref9"><sup>9</sup></a>. <code>View</code> is the superclass for visual interface elements—a visual component on the screen is a View. Specific types of Views include: <a href="https://developer.android.com/reference/android/widget/TextView.html">TextViews</a>, <a href="https://developer.android.com/reference/android/widget/ImageView.html">ImageViews</a>, <a href="https://developer.android.com/reference/android/widget/Button.html">Buttons</a>, etc.</p>
<ul>
<li><code>View</code> is a superclass for these components because it allows us to use <strong>polymorphism</strong> to treat all these visual elements the same way as instances of the same type. We can lay them out, draw them, click on them, move them, etc. And all the behavior will be the same—though subclasses can also have “extra” features</li>
</ul>
<p>Here’s the big trick: one subclass of <code>View</code> is <a href="https://developer.android.com/reference/android/view/ViewGroup.html"><code>ViewGroup</code></a><a href="#fn10" class="footnoteRef" id="fnref10"><sup>10</sup></a>. A <code>ViewGroup</code> can contain other “child” Views. But since <code>ViewGroup</code> is a <code>View</code>… it can contain more <code>ViewGroups</code> inside it! Thus we can <strong>nest</strong> Views within Views, following the <a href="http://www.oodesign.com/composite-pattern.html">Composite Pattern</a>. This ends up working a lot like HTML (which can have DOM elements like <code>&lt;div&gt;</code> inside other DOM elements), allowing for complex user interfaces.</p>
<ul>
<li>Thus Views are structured into a <a href="https://en.wikipedia.org/wiki/Tree_(data_structure)"><em>tree</em></a>, what is known as the <strong>View hierarchy</strong>.</li>
</ul>
<p>Views are defined inside of <a href="https://developer.android.com/guide/topics/ui/declaring-layout.html">Layouts</a>—that is, inside a layout resource, which is an XML file describing Views. These resources are “inflated” (rendered) into UI objects that are part of the application.</p>
<p>Technically, <code>Layouts</code> are simply <code>ViewGroups</code> that provide “ordering” and “positioning” information for the Views inside of them. they let the system “lay out” the Views intelligently and effectively. <em>Individual views shouldn’t know their own position</em>; this follows from good good object-oriented design and keeps the Views encapsulated.</p>
<p class="alert alert-info">
Android studio does come with a graphical <a href="https://developer.android.com/studio/write/layout-editor.html">Layout Editor</a> (the “Design” tab) that can be used to create layouts. However, most developers stick with writing layouts in XML. This is mostly because early design tools were pathetic and unusable, so XML was all we had. Although Android Studio’s graphical editor can be effective, for this course you should create layouts “by hand” in XML. This is helpful for making sure you understand the pieces underlying development, and is a skill you should be comfortable with anyway (similar to how we encourage people to use <code>git</code> from the command-line).
</p>
<div id="view-properties" class="section level3">
<h3><span class="header-section-number">3.2.1</span> View Properties</h3>
<p>Before we get into how to group Views, let’s focus on the individual, basic <code>View</code> classes. As an example, consider the <code>activity_main</code> layout in the lecture code. This layout contains two individual <code>View</code> elements (inside a <code>Layout</code>): a <code>TextView</code> and a <code>Button</code>.</p>
<p>All View have <strong>properties</strong> which define the state of the View. Properties are usually defined within the resource XML as element <em>attributes</em>. Some examples of these property attributes are described below.</p>
<ul>
<li><p><strong><code>android:id</code></strong> specifies a unique identifier for the View. This identifier needs to be unique within the layout, though ideally is unique within the entire app (for clarity).</p>
<p>Identifiers must be legal Java variable names (because they are turned into a variable name in the <code>R</code> class), and by convention are named in <code>lower_case</code> format.</p>
<ul>
<li><em>Style tip</em>: it is useful to prefix each View’s id with its type (e.g., <code>btn</code>, <code>txt</code>, <code>edt</code>). This helps with making the code self-documenting.</li>
</ul>
<p>You should give each interactive <code>View</code> a unique id, which will allow its state to automatically be saved as a <code>Bundle</code> when the Activity is destroyed. See <a href="https://developer.android.com/guide/components/activities/activity-lifecycle.html#saras">here</a> for details.</p></li>
<li><p><strong><code>android:layout_width</code></strong> and <strong><code>android:layout_height</code></strong> are used to specify the View’s size on the screen (see <a href="http://developer.android.com/reference/android/view/ViewGroup.LayoutParams.html">ViewGroup.LayoutParams</a> for documentation). These values can be a specific value (e.g., <code>12dp</code>), but more commonly is one of two special values:</p>
<ul>
<li><code>wrap_content</code>, meaning the dimension should be as large as the content requires, plus padding.</li>
<li><code>match_parent</code>, meaning the dimension should be as large as the <em>parent</em> (container) element, minus padding. This value was renamed from <code>fill_parent</code> (which has now been deprecated).</li>
</ul>
<div class="alert alert-info">
Android utilizes the following <a href="https://developer.android.com/guide/topics/resources/more-resources.html#Dimension">dimensions</a> or <a href="https://www.google.com/design/spec/layout/units-measurements.html#">units</a>:
<ul>
<li><strong><code>dp</code></strong> is a “density-independent pixel”. On a 160-dpi (dots-per-inch) screen, <code>1dp</code> equals <code>1px</code> (pixel). But as dpi increases, the number of pixels per <code>dp</code> increases. These values should be used instead of <code>px</code>, as it allows dimensions to work independent of the hardware’s dpi (which is <em>highly</em> variable).</li>
<li><strong><code>px</code></strong> is an actual screen pixel. <em>DO NOT USE THIS</em> (use <code>dp</code> instead!)</li>
<li><strong><code>sp</code></strong> is a “scale-independent pixel”. This value is like <code>dp</code>, but is scale by the system’s font preference (e.g., if the user has selected that the device should display in a larger font, <code>1sp</code> will cover more <code>dp</code>). <em>You should <strong>always</strong> use <code>sp</code> for text dimensions, in order to support user preferences and accessibility.</em></li>
<li><strong><code>pt</code></strong> is 1/72 of an inch of the physical screen. Similar units <code>mm</code> and <code>in</code> are available. <em>Not recommended for use.</em></li>
</ul>
</div></li>
<li><p><strong><code>android:padding</code></strong>, <strong><code>android:paddingLeft</code></strong>, <strong><code>android:margin</code></strong>, <strong><code>android:marginLeft</code></strong>, etc. are used to specify the margin and padding for Views. These work basically the same way they do in CSS: padding is the space between the content and the “edge” of the View, and margin is the space between Views. Note that unlike CSS, margins between elements do not collapse.</p></li>
<li><p><strong><code>android:textSize</code></strong> specifies the “font size” of textual Views (use <code>sp</code> units!), <strong><code>android:textColor</code></strong> specifies the color of text (reference a color resource!), etc.</p></li>
<li><p>There are lots of other properties as well! You can see a listing of generic properties in the <a href="https://developer.android.com/reference/android/view/View.html#lattrs"><code>View</code></a><a href="#fn11" class="footnoteRef" id="fnref11"><sup>11</sup></a> documentation, look at the options in the “Design” tab of Android Studio, or browse the auto-complete options in the IDE. Each different <code>View</code> class (e.g., <code>TextView</code>, <code>ImageView</code>, etc.) will also have their own set of properties.</p></li>
</ul>
<p>Note that unlike CSS, styling properties specified in the layout XML resources are not inherited; we’re effectively specifying an inline <code>style</code> attribute for that element, and one that won’t affect child elements. In order to define shared style properies, you’ll need to use <a href="https://developer.android.com/guide/topics/ui/themes.html#DefiningStyles">styles resources</a>, which are discussed in a later lecture.</p>
<p>While it is possible to specify these visual properties dynamically via Java methods (e.g., <code>setText()</code>, <code>setPadding()</code>). You should <strong>only</strong> use Java methods to specify View properties when they <em>need</em> to be dynamic (e.g., the text changes in response to a button click)—it is much cleaner and effective to specify as much visual detail in the XML resource files as possible. It’s also possible to simply replace one layout resource with another (see below).</p>
<ul>
<li>Views also have inspection methods such as <code>isVisible()</code> and <code>hasFocus()</code>; we will point to those as we need them.</li>
</ul>
<p class="alert alert-warning">
Do not define Views or View appearances in an Activity’s <code>onCreate()</code> callback, unless the properties (e.g., content) truly cannot be determined before runtime! Specify layouts in the XML instead.
</p>
</div>
<div id="practice" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Practice</h3>
<p>Add a new <a href="http://developer.android.com/reference/android/widget/ImageView.html"><code>ImageView</code></a> element that contains a picture. Be sure and specify its <code>id</code> and size (experiment with different options).</p>
<p>You can specify the content of the image in the XML resource using the <code>android:src</code> attribute (use <code>@</code> to reference a <code>drawable</code>), or you can specify the content dynamically in Java code:</p>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="bu">ImageView</span> imageView = (<span class="bu">ImageView</span>)<span class="fu">findViewById</span>(R.<span class="fu">id</span>.<span class="fu">img_view</span>);
imageView.<span class="fu">setImageResource</span>(R.<span class="fu">drawable</span>.<span class="fu">my_image</span>);</code></pre></div>
</div>
</div>
<div id="layouts" class="section level2">
<h2><span class="header-section-number">3.3</span> Layouts</h2>
<p>As mentioned above, a <a href="https://developer.android.com/guide/topics/ui/declaring-layout.html">Layout</a> is a grouping of Views (specifically, a <code>ViewGroup</code>). A Layout acts as a container for other Views, to help organize things. Layouts are all subclasses of <a href="https://developer.android.com/reference/android/view/ViewGroup.html"><code>ViewGroup</code></a>, so you can use its inheritance documentation to see a (mostly) complete list of options, though many of the listed classes are deprecated in favor of later, more generic/powerful options.</p>
<div id="linearlayout" class="section level3">
<h3><span class="header-section-number">3.3.1</span> LinearLayout</h3>
<p>Probably the simplest Layout to understand is the <a href="https://developer.android.com/guide/topics/ui/layout/linear.html"><code>LinearLayout</code></a>. This Layout simply orders the children View in a line (“linearly”). All children are laid out in a single direction, but you can specify whether this is horizontal or vertical with the <code>android:orientation</code> property. See <a href="https://developer.android.com/reference/android/widget/LinearLayout.LayoutParams.html">LinearLayout.LayoutParams</a> for a list of all attribute options!</p>
<ul>
<li>Remember: since a <code>Layout</code> is a <code>ViewGroup</code> is a <code>View</code>, you can also utilize all the properties discussed above; the attributes are inherited!</li>
</ul>
<p>Another common property you might want to control in a LinearLayout is how much of any remaining space the elements should occupy (e.g., should they expand). This is done with the <code>android:layout_weght</code> property. After all element sizes are calculated (via their individual properties), the remaining space within the Layout is divided up proportionally to the <code>layout_weight</code> of each element (which defaults to <code>0</code> so they get no extra space). See the <a href="https://developer.android.com/guide/topics/ui/layout/linear.html#Weight">example</a> in the guide for more details.</p>
<ul>
<li><em>Useful tip</em>: Give elements <code>0dp</code> width or height and <code>1</code> for weight to make everything in the Layout the same size!</li>
</ul>
<p>You can also use the <a href="https://developer.android.com/reference/android/widget/LinearLayout.LayoutParams.html#attr_android:layout_gravity"><code>android:layout_gravity</code></a> property to specify the “alignment” of elements within the Layout (e.g., where they “fall” to). Note that this property is specified on individual child Views.</p>
<p><strong>An important point</strong> Since Layouts <em>are</em> Views, you can of course nest <code>LinearLayouts</code> inside each other! So you can make “grids” by creating a vertical Layout containing “rows” of horizontal Layouts (which contain Views). As with HTML, there are lots of different options for achieving any particular interface layout.</p>
</div>
<div id="relativelayout" class="section level3">
<h3><span class="header-section-number">3.3.2</span> RelativeLayout</h3>
<p>A <a href="https://developer.android.com/guide/topics/ui/layout/relative.html"><code>RelativeLayout</code></a> is more flexible (and hence powerful), but can be more complex to use. In a <code>RelativeLayout</code>, children are positioned “relative” to the parent <strong>OR</strong> <em>to each other</em>. All children default to the top-left of the Layout, but you can give them properties from <a href="https://developer.android.com/reference/android/widget/RelativeLayout.LayoutParams.html"><code>RelativeLayout.LayoutParams</code></a> to specify where they should go instead.</p>
<p>For example: <code>android:layout_verticalCenter</code> centers the View vertically within the parent. <code>android:layout_toRightOf</code> places the View to the right of the View with the given resource id (use an <code>@</code> reference to refer to the View by its id):</p>
<div class="sourceCode"><pre class="sourceCode xml"><code class="sourceCode xml"><span class="kw">&lt;TextView</span>
<span class="ot">    android:id=</span><span class="st">&quot;@+id/first&quot;</span>
<span class="ot">    android:layout_width=</span><span class="st">&quot;match_parent&quot;</span>
<span class="ot">    android:layout_height=</span><span class="st">&quot;wrap_content&quot;</span>
<span class="ot">    android:text=</span><span class="st">&quot;FirstString&quot;</span> <span class="kw">/&gt;</span>
<span class="kw">&lt;TextView</span>
<span class="ot">    android:id=</span><span class="st">&quot;@+id/second&quot;</span>
<span class="ot">    android:layout_height=</span><span class="st">&quot;wrap_content&quot;</span>
<span class="ot">    android:layout_below=</span><span class="st">&quot;@id/first&quot;</span>
<span class="ot">    android:layout_alignParentLeft=</span><span class="st">&quot;true&quot;</span>
<span class="ot">    android:text=</span><span class="st">&quot;SecondString&quot;</span> <span class="kw">/&gt;</span></code></pre></div>
<p>(Recall that the <code>@+</code> syntax defines a <em>new</em> View id, like declaring a variable!)</p>
<p>You do not need to specify both <code>toRightOf</code> and <code>toLeftOf</code>; think about placing one element on the screen, then putting another element relative to what came before. This can be tricky. For this reason the author prefers to use <code>LinearLayouts</code>, since you can always produce a Relative positioning using enough LinearLayouts (and most layouts end up being linear in some fashion anyway!)</p>
</div>
<div id="constraintlayout" class="section level3">
<h3><span class="header-section-number">3.3.3</span> ConstraintLayout</h3>
<p><a href="https://developer.android.com/training/constraint-layout/index.html"><code>ConstraintLayout</code></a> is a Layout provided as part of an extra support library, and is what is used by Android Studio’s “Design” tool (and thus is the default Layout for new layout resources). <code>ConstraintLayout</code> works in a manner conceptually similar to <code>RelativeLayout</code>, in that you specify the location of Views in relationship to one another. However, <code>ConstraintLayout</code> offers a more powerful set of relationships in the form of <em>constraints</em>, which can be used to create highly responsive layouts. See <a href="https://developer.android.com/reference/android/support/constraint/ConstraintLayout.html">the class documentation</a> for more details and examples of constraints you can add.</p>
<p>The main advantage of <code>ConstraintLayout</code> is that it supports development through Android Studio’s Design tool. However, since this course is focusing on implementing the resource XML files rather than using the specific tool (that may change in a year’s time), we will primarily be using other layouts.</p>
</div>
<div id="other-layouts" class="section level3">
<h3><span class="header-section-number">3.3.4</span> Other Layouts</h3>
<p>There are many other layouts as well, though we won’t go over them all in depth. They all work in similar ways; check the individual class’s documentatoion for details.</p>
<ul>
<li><p><a href="https://developer.android.com/reference/android/widget/FrameLayout.html">FrameLayout</a> is a sort of “placeholder” layout that holds a <strong>single</strong> child View (a second child will not be shown). You can think of this layout as a way of adding a simple container to use for padding, etc. It is also highly useful for situations where the framework requires you to specify a Layout resource instead of just an individual View.</p></li>
<li><p><a href="https://developer.android.com/reference/android/widget/GridLayout.html">GridLayout</a> arranges Views into a Grid. It is similar to LinearLayout, but places elements into a grid rather than into a line.</p>
<p>Note that this is different than a <a href="https://developer.android.com/guide/topics/ui/layout/gridview.html">Grid_View_</a>, which is a scrollable, adaptable list (similar to a <code>ListView</code>, which is discussed in the next lecture).</p></li>
<li><p><a href="http://developer.android.com/guide/topics/ui/layout/grid.html">TableLayout</a> acts like an HTML table: you define <code>TableRow</code> layouts which can be filled with content. This View is not commonly used.</p></li>
</ul>
</div>
<div id="combining-and-inflating-layouts" class="section level3">
<h3><span class="header-section-number">3.3.5</span> Combining and Inflating Layouts</h3>
<p>It is possible to combine multiple layout resources. This is useful if you want to dynamically change what Views are included, or to refactor parts of a layout into different XML files to improve code organization.</p>
<p>As one option, you can <em>statically</em> include XML layouts inside other layouts by using an <a href="https://developer.android.com/training/improving-layouts/reusing-layouts.html"><code>&lt;include&gt;</code></a> element:</p>
<div class="sourceCode"><pre class="sourceCode xml"><code class="sourceCode xml"><span class="kw">&lt;include</span><span class="ot"> layout=</span><span class="st">&quot;@layout/sub_layout&quot;</span><span class="kw">&gt;</span></code></pre></div>
<p>But it is also possible to dynamically load views “manually” (e.g., in Java code) using the <a href="https://developer.android.com/reference/android/view/LayoutInflater.html"><code>LayoutInflator</code></a>. This is a class that has the job of “inflating” (rendering) Views. The process is called “inflating” based on the idea that it is “unpacking” or “expanding” a compact resource description into a complex Java Object. LayoutInflator is implicitly used in the <code>setContentView()</code> method, but can also be used independently with the following syntax:</p>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java">LayoutInflator inflator = <span class="fu">getLayoutInflator</span>(); <span class="co">//access the inflator (called on the Activity)</span>
<span class="bu">View</span> myLayout = inflator.<span class="fu">inflate</span>(R.<span class="fu">layout</span>.<span class="fu">my_layout</span>, parentViewGroup, <span class="kw">true</span>); <span class="co">//to attach</span></code></pre></div>
<p>Note that we never instantiate the <code>LayoutInflator</code>, we just access an object that is defined as part of the Activity.</p>
<p>The <a href="http://developer.android.com/reference/android/view/LayoutInflater.html#inflate(int, android.view.ViewGroup, boolean)"><code>inflate()</code></a> method takes a couple of arguments:</p>
<ul>
<li>The first parameter is a reference to the resource to inflate (an <code>int</code> saved in <code>R</code>)</li>
<li>The second parameter is a <code>ViewGroup</code> to act as the “parent” for this View—e.g., what layout should the View be inflate inside? This can be <code>null</code> if there is not yet a layout context; e.g., you wish to inflate the View but not show it on the screen yet.</li>
<li>The third (optional) parameter is whether to actually attach the inflated View to that parent (if not, the parent just provides context and layout params to use). If not assigning to parent on inflation, you can later attach the View using methods in <code>ViewGroup</code> (e.g., <code>addView(View)</code> similar to what we’ve done with Swing).</li>
</ul>
<p>Manually inflating a View works for dynamically loading resources, and we will often see UI implementation patterns that utilize Inflators.</p>
<p>However, for dynamic View creation it tends to be messy and hard to maintain (UI work should be specified entirely in the XML, without needing multiple references to parent and child Views) so it isn’t as common in modern development. A much cleaner solution is to use a <a href="https://developer.android.com/training/improving-layouts/loading-ondemand.html"><code>ViewStub</code></a><a href="#fn12" class="footnoteRef" id="fnref12"><sup>12</sup></a>. A <code>ViewStub</code> is like an <a href="https://en.wikipedia.org/wiki/On-deck">“on deck”</a> Layout: it is written into the XML, but isn’t actually shown until you choose to reveal it via Java code. With a <code>ViewStub</code>, Android inflates the <code>View</code> at runtime, but then removes it from the parent (leaving a “stub” in its place). When you call <code>inflate()</code> (or <code>setVisible(View.VISIBLE)</code>) on that stub, it is reattached to the View tree and displayed:</p>
<div class="sourceCode"><pre class="sourceCode xml"><code class="sourceCode xml"><span class="co">&lt;!-- XML --&gt;</span>
<span class="kw">&lt;ViewStub</span><span class="ot"> android:id=</span><span class="st">&quot;@+id/stub&quot;</span>
<span class="ot">    android:inflatedId=</span><span class="st">&quot;@+id/subTree&quot;</span>
<span class="ot">    android:layout=</span><span class="st">&quot;@layout/mySubTree&quot;</span>
<span class="ot">    android:layout_width=</span><span class="st">&quot;wrap_content&quot;</span>
<span class="ot">    android:layout_height=</span><span class="st">&quot;wrap_content&quot;</span> <span class="kw">/&gt;</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="co">//Java</span>
ViewStub stub = (ViewStub)<span class="fu">findViewById</span>(R.<span class="fu">id</span>.<span class="fu">stub</span>);
<span class="bu">View</span> inflated = stub.<span class="fu">inflate</span>();</code></pre></div>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="6">
<li id="fn6"><p><a href="https://developer.android.com/guide/topics/resources/available-resources.html" class="uri">https://developer.android.com/guide/topics/resources/available-resources.html</a><a href="resources-and-layouts.html#fnref6">↩</a></p></li>
<li id="fn7"><p><a href="http://developer.android.com/guide/topics/resources/providing-resources.html" class="uri">http://developer.android.com/guide/topics/resources/providing-resources.html</a><a href="resources-and-layouts.html#fnref7">↩</a></p></li>
<li id="fn8"><p><a href="https://www.webucator.com/blog/2010/03/saying-hello-world-in-your-language-using-javascript/" class="uri">https://www.webucator.com/blog/2010/03/saying-hello-world-in-your-language-using-javascript/</a><a href="resources-and-layouts.html#fnref8">↩</a></p></li>
<li id="fn9"><p><a href="http://developer.android.com/reference/android/view/View.html" class="uri">http://developer.android.com/reference/android/view/View.html</a><a href="resources-and-layouts.html#fnref9">↩</a></p></li>
<li id="fn10"><p><a href="http://developer.android.com/reference/android/view/ViewGroup.html" class="uri">http://developer.android.com/reference/android/view/ViewGroup.html</a><a href="resources-and-layouts.html#fnref10">↩</a></p></li>
<li id="fn11"><p><a href="http://developer.android.com/reference/android/view/View.html#lattrs" class="uri">http://developer.android.com/reference/android/view/View.html#lattrs</a><a href="resources-and-layouts.html#fnref11">↩</a></p></li>
<li id="fn12"><p><a href="http://developer.android.com/training/improving-layouts/loading-ondemand.html" class="uri">http://developer.android.com/training/improving-layouts/loading-ondemand.html</a><a href="resources-and-layouts.html#fnref12">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="activities.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="interactive-views.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["github", "facebook", "twitter", "google"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/info448-s17/lecture-notes/edit/master/layouts.Rmd",
"text": "Edit"
},
"download": ["android-dev-book.pdf", "android-dev-book.epub"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
